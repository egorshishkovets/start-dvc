schema: '2.0'
stages:
  prepare:
    cmd: python src/data/prepare.py -path_origin=data/raw/train.csv -path_prepared=data/prepare/
    deps:
    - path: data/raw/train.csv
      md5: 61fdd54abdbf6a85b778e937122e1194
      size: 61194
    - path: src/data/prepare.py
      md5: f78975ea10f96588f70b3251af6478b3
      size: 2743
    outs:
    - path: data/prepare/data.csv
      md5: 5e8119fcf444111a4a422fb95026629e
      size: 47005
    - path: data/prepare/target.csv
      md5: 97ad279081204a182620d6bf8ccb4230
      size: 1791
  split:
    cmd: python src/data/split.py -x_train=data/prepare/data.csv -y_train=data/prepare/target.csv
      -path_out=data/prepare/
    deps:
    - path: data/prepare/data.csv
      md5: 5e8119fcf444111a4a422fb95026629e
      size: 47005
    - path: data/prepare/target.csv
      md5: 97ad279081204a182620d6bf8ccb4230
      size: 1791
    - path: src/data/split.py
      md5: 60dfb752883a60156778be6f59db5d5e
      size: 1662
    outs:
    - path: data/prepare/x_test.csv
      md5: cb5ca849e2fc0275e792fae6dee55e15
      size: 11795
    - path: data/prepare/x_train.csv
      md5: d9efc70af923d330075a36a57ac9f0be
      size: 35023
    - path: data/prepare/y_test.csv
      md5: 7e71c744a293357f27168745b1f03ebe
      size: 455
    - path: data/prepare/y_train.csv
      md5: b36631bdbb8580707bae861373742a95
      size: 1345
  train_regression:
    cmd: python src/models/logistic_regression.py -x_train=data/prepare/x_train.csv
      -y_train=data/prepare/y_train.csv -path_pkl=data/models/logistic_regression.pkl
    deps:
    - path: data/prepare/x_train.csv
      md5: d9efc70af923d330075a36a57ac9f0be
      size: 35023
    - path: data/prepare/y_train.csv
      md5: b36631bdbb8580707bae861373742a95
      size: 1345
    - path: src/models/logistic_regression.py
      md5: e89227c75b0712e92177ae2557ae4fe7
      size: 1908
    params:
      params.yaml:
        train_logistic.max_iter: 20
        train_logistic.n_jobs: -1
        train_logistic.random_state: 42
    outs:
    - path: data/models/logistic_regression.pkl
      md5: 104397049092263ed5239e5d39bfc2e0
      size: 794
  evaluate:
    cmd: python src/models/evaluate.py -x_test=data/prepare/x_test.csv -y_test=data/prepare/y_test.csv
      -path_pkl=data/models/logistic_regression.pkl -scores_path=reports/scores.json
      -plot_path=reports/plot.json
    deps:
    - path: data/models/logistic_regression.pkl
      md5: 104397049092263ed5239e5d39bfc2e0
      size: 794
    - path: data/prepare/x_test.csv
      md5: cb5ca849e2fc0275e792fae6dee55e15
      size: 11795
    - path: data/prepare/y_test.csv
      md5: 7e71c744a293357f27168745b1f03ebe
      size: 455
    - path: src/models/evaluate.py
      md5: 8bd1ac379e4b7ae6c73000de8b7e02b9
      size: 2954
    outs:
    - path: reports/plot.json
      md5: 6bc0193155e4a0aab7f706f07b95ac48
      size: 6311
    - path: reports/scores.json
      md5: 899091fa118503d989ca3d693296e6a4
      size: 84
